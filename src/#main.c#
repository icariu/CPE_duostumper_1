/*
** EPITECH PROJECT, 2020
** CPE_duostumper_1_2019
** File description:
** main
*/

#include "my.h"
#include <stddef.h>

int count_lines(char **arg)
{
    int i = 0;

    for (; arg[i]; i++);
    return (i);
}

char *check_char(char *str)
{
    char *imp_char = "cnqv";
    static char *flags = "\0";

    if (str == NULL)
        return (flags);
    for (int i = 1; str[i]; i++)
        for (int j = 0; imp_char[j]; j++)
            if (str[i] == imp_char[j])
                flags = my_strcatchar(flags, str[i]);
    return (flags);
}

int check_dash(char *str)
{
    char *res = NULL;

    if (str[0] != '-')
        return (-2);
    if (str[0] == '-')
        res = check_char(str);
    if (str == NULL)
        return (84);
}

int check_error_dash(char *str)
{
    if (str[0] != '-')
        return (-1);
    for (int i = 1; str[i]; i++)
        if (str[i] != 'c' && str[i] != 'n' && str[i] != 'q' && str[i] != 'v') {
            write(2, "tail: invalid option -- '", 25);
            write(2, my_strca
            return (84);
        }
}

int main(int ac, char **av)
{
    int lines = count_lines(av);
    char *test = NULL;
    int error = 0;

    for (int i = 0; av[i]; i++) {
        error = check_error_dash(av[i]);
        if (error != -1) {
            write(2, "tail: invalid option -- '", 25);
            write(2, my_strcatchar("\0", av[i][error]), 1);
            write(2, "'\nTry 'tail --help' for more information.\n", 42);
        }
    }
    for (int i = 0; av[i]; i++)
        check_dash(av[i]);
    return (0);
}
